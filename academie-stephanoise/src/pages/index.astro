---
import { Image } from "astro:assets";
import { getImage } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.jsx";
import ActivityCard from "../components/ActivityCard";
import { Heading } from "../components/foundations/Heading";
import AboutSection from "../components/AboutSection";
import CoachCard from "../components/CoachCard";
import CallToActionSection from "../components/CallToActionSection";
import Footer from "../components/Footer";
import InstagramFeed from "../components/InstagramFeed";
import aboutImage from "../assets/academie_stephanoise_about.png";
import lucImage from "../assets/luc_hernandez.webp";
import noriImage from "../assets/nori_berramdane.webp";
import headerImage1 from "../assets/academie_stephanoise_10.png";
import headerImage2 from "../assets/academie_stephanoise_9.jpg";
import headerImage3 from "../assets/academie_stephanoise_8.jpg";
import headerImage4 from "../assets/academie_stephanoise_7.jpg";
import headerImage5 from "../assets/academie_stephanoise_6.jpg";
import logoImage from "../assets/logo.png";
import kravIcon from "../assets/icons/krav_picto.png";
import boxeIcon from "../assets/icons/boxe_picto.png";
import mmaIcon from "../assets/icons/mma_picto.png";
import tolparIcon from "../assets/icons/tolpar_picto.png";
import lutaIcon from "../assets/icons/lutalivre_picto.png";
import crossTrainingIcon from "../assets/icons/crosstraining_picto.png";
import NavigationMenu from "../components/NavigationMenu";

const title =
  "Académie Stéphanoise | École d'Arts Martiaux et Sports de Combat à Saint-Étienne";
const description =
  "Découvrez l'Académie Stéphanoise à Saint-Étienne, un club dynamique fondé en 2015 par une équipe de passionnés. Nous offrons des cours de MMA, Boxe, Krav Maga, Luta Livre et Cross Training, adaptés à tous les niveaux, dans une salle moderne et équipée. Rejoignez notre communauté inclusive où le sport rassemble et la mixité s'incarne, et améliorez votre condition physique avec des coachs expérimentés.";

// Pre-optimize images
const optimizedImages = {
  logo: await getImage({ src: logoImage, format: "webp" }),
  gallery: await Promise.all([
    getImage({ src: headerImage1, format: "webp" }),
    getImage({ src: headerImage2, format: "webp" }),
    getImage({ src: headerImage3, format: "webp" }),
    getImage({ src: headerImage4, format: "webp" }),
    getImage({ src: headerImage5, format: "webp" }),
  ]),
};

// JSON-LD data
const jsonld = {
  "@context": "https://schema.org",
  "@type": "SportsActivityLocation",
  "@id": "https://www.academiestephanoise.fr",
  name: "Académie Stéphanoise",
  alternateName: "École d'Arts Martiaux Saint-Étienne",
  description: description,
  image: [optimizedImages.logo.src],
  logo: optimizedImages.logo.src,
  address: {
    "@type": "PostalAddress",
    streetAddress: "27 B, rue de Terrenoire",
    addressLocality: "Saint-Étienne",
    postalCode: "42100",
    addressCountry: "FR",
    addressRegion: "Auvergne-Rhône-Alpes"
  },
  geo: {
    "@type": "GeoCoordinates",
    latitude: "45.4397",
    longitude: "4.4026"
  },
  url: "https://www.academiestephanoise.fr",
  telephone: "+33768702556",
  email: "contact@academie-stephanoise.com",
  priceRange: "€€",
  currenciesAccepted: "EUR",
  paymentAccepted: "Cash, Credit Card",
  openingHoursSpecification: [
    {
      "@type": "OpeningHoursSpecification",
      dayOfWeek: "Monday",
      opens: "18:00",
      closes: "20:00",
    },
    {
      "@type": "OpeningHoursSpecification",
      dayOfWeek: "Tuesday",
      opens: "18:30",
      closes: "19:30",
    },
    {
      "@type": "OpeningHoursSpecification",
      dayOfWeek: "Wednesday",
      opens: "14:30",
      closes: "19:00",
    },
    {
      "@type": "OpeningHoursSpecification",
      dayOfWeek: "Thursday",
      opens: "17:00",
      closes: "19:30",
    },
    {
      "@type": "OpeningHoursSpecification",
      dayOfWeek: "Friday",
      opens: "17:00",
      closes: "19:00",
    },
    {
      "@type": "OpeningHoursSpecification",
      dayOfWeek: ["Saturday", "Sunday"],
      opens: "00:00",
      closes: "00:00",
      description: "Fermé"
    }
  ],
  sameAs: [
    "https://www.facebook.com/academiestephanoise",
    "https://www.instagram.com/academiestephanoise",
  ],
  areaServed: {
    "@type": "GeoCircle",
    geoMidpoint: {
      "@type": "GeoCoordinates",
      latitude: "45.4397",
      longitude: "4.4026"
    },
    geoRadius: "30000"
  },
  amenityFeature: [
    {
      "@type": "LocationFeatureSpecification",
      name: "Parking gratuit",
      value: true
    },
    {
      "@type": "LocationFeatureSpecification",
      name: "Vestiaires",
      value: true
    },
    {
      "@type": "LocationFeatureSpecification",
      name: "Douches",
      value: true
    }
  ],
  offers: [
    {
      "@type": "Offer",
      name: "Cours de Boxe pied poing",
      description:
        "Cours de boxe dynamique et technique, conçu pour améliorer la forme physique générale, la coordination et la confiance en soi. Idéal pour ceux qui souhaitent apprendre les bases.",
      url: "https://www.academiestephanoise.fr/activités",
      availability: "https://schema.org/InStock",
      priceCurrency: "EUR"
    },
    {
      "@type": "Offer",
      name: "Cours de Krav Maga",
      description:
        "Apprenez des techniques de défense réalistes pour vous protéger dans des situations de la vie quotidienne. Le Krav Maga est basé sur des mouvements simples et efficaces, parfait pour tous les niveaux.",
      url: "https://www.academiestephanoise.fr/activités",
      availability: "https://schema.org/InStock",
      priceCurrency: "EUR"
    },
    {
      "@type": "Offer",
      name: "Cours de MMA (Mixed Martial Arts)",
      description:
        "Combinez différentes disciplines comme la boxe, la lutte et le jiu-jitsu pour un entraînement complet. Parfait pour les pratiquants souhaitant améliorer leurs compétences globales en combat.",
      url: "https://www.academiestephanoise.fr/activités",
      availability: "https://schema.org/InStock",
      priceCurrency: "EUR"
    },
    {
      "@type": "Offer",
      name: "Cours de Tolpar (Escrime lame courte)",
      description:
        "Maîtrisez l'art de l'escrime à lame courte, une discipline axée sur la précision, l'agilité et la technique. Idéal pour développer la concentration et les réflexes dans des situations de combat rapproché.",
      url: "https://www.academiestephanoise.fr/activités",
      availability: "https://schema.org/InStock",
      priceCurrency: "EUR"
    },
    {
      "@type": "Offer",
      name: "Cours de Luta Livre",
      description:
        "Découvrez l'art du grappling brésilien avec la Luta Livre, une discipline axée sur la lutte au sol et le contrôle du corps. Adapté à tous, ce cours améliore la force, la technique et la résilience mentale.",
      url: "https://www.academiestephanoise.fr/activités",
      availability: "https://schema.org/InStock",
      priceCurrency: "EUR"
    },
    {
      "@type": "Offer",
      name: "Cours de Cross Training / Prépa Physique",
      description:
        "Améliorez votre condition physique avec des exercices fonctionnels, combinant cardio et renforcement musculaire. Idéal pour développer l'endurance, la force et l'agilité.",
      url: "https://www.academiestephanoise.fr/activités",
      availability: "https://schema.org/InStock",
      priceCurrency: "EUR"
    },
  ],
  employee: [
    {
      "@type": "Person",
      name: "Luc Hernandez",
      jobTitle: "Coach de Luta Livre et MMA",
      description:
        "Passionné d'arts martiaux depuis sa plus tendre enfance, Luc Hernandez a consacré sa vie à l'entraînement, au perfectionnement et à la transmission de ses connaissances. Devenu un pédagogue hors pair, il possède un talent unique pour faire aimer le combat au sol et le MMA, en instillant à ses élèves confiance, technique et discipline.",
      image: lucImage,
      sameAs: [
        "https://www.facebook.com/luc.hernandez",
        "https://www.instagram.com/luchernandez"
      ],
      knowsAbout: ["MMA", "Luta Livre", "Arts Martiaux", "Sports de Combat"]
    },
    {
      "@type": "Person",
      name: "Nori Berramdane",
      jobTitle: "Coach de Boxe Pied Poing",
      description:
        "L'équipe de l'Académie Stéphanoise est heureuse de compter Nori parmi le staff enseignant ! Initié très tôt à la pratique martiale, il obtiendra une ceinture marron en full contact et plusieurs titres de champion de la Loire. Amoureux de sports de combat, c'est tout naturellement que Nori s'oriente vers le MMA et la Luta Livre où il obtient le grade de ceinture jaune.",
      image: noriImage,
      knowsAbout: ["Boxe", "Full Contact", "MMA", "Sports de Combat"]
    },
  ],
  hasOfferCatalog: {
    "@type": "OfferCatalog",
    name: "Cours d'Arts Martiaux",
    itemListElement: [
      {
        "@type": "OfferCatalog",
        name: "Sports de Combat",
        itemListElement: [
          {
            "@type": "Offer",
            itemOffered: {
              "@type": "Service",
              name: "Cours de MMA",
              description: "Mixed Martial Arts pour tous niveaux"
            }
          },
          {
            "@type": "Offer",
            itemOffered: {
              "@type": "Service",
              name: "Cours de Boxe",
              description: "Boxe pieds poings tous niveaux"
            }
          }
        ]
      }
    ]
  }
};
---

<Layout title={title} description={description} jsonld={jsonld}>
  <div class="bg-white">
    <header class="absolute inset-x-0 top-0 z-50">
      <nav
        class="mx-auto flex max-w-7xl items-center justify-between xl:justify-start xl:space-x-40 p-6 xl:px-8"
        aria-label="Navigation principale"
      >
        <div class="flex">
          <a href="/" class="-m-1.5 p-1.5">
            <span class="sr-only">Académie Stéphanoise - Sports de Combat</span>
            <img
              src={optimizedImages.logo.src}
              alt="Logo Académie Stéphanoise - École d'Arts Martiaux à Saint-Étienne"
              width={optimizedImages.logo.attributes.width}
              height={optimizedImages.logo.attributes.height}
              class="h-32 object-cover w-auto"
            />
          </a>
        </div>
        <NavigationMenu client:load logo={optimizedImages.logo} />
      </nav>
    </header>
    <Header images={optimizedImages} />
  </div>
  <div>
    <div class="bg-neutral-50 pt-32 pb-24 lg:pb-36 -mt-40">
      <div class="max-w-7xl mx-auto px-6 lg:px-8">
        <div class="pt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <ActivityCard
            name="Boxe pied poing"
            bgColor="bg-orange-100"
            level="Intermédiaire"
            description="Cours de boxe dynamique et technique, conçu pour améliorer la forme physique générale, la coordination et la confiance en soi. Idéal pour ceux qui souhaitent apprendre les bases."
            duration="1 heure"
            schedule="Plusieurs fois par semaine"
            activityUrl="boxe-pied-poing"
          >
            <Image
              src={boxeIcon}
              alt="Boxe pied poing"
              width={100}
              height={100}
            />
          </ActivityCard>
          <ActivityCard
            name="Krav Maga"
            level="Tous niveaux"
            bgColor="bg-blue-100"
            description="Apprenez des techniques de défense réalistes pour vous protéger dans des situations de la vie quotidienne. Le Krav Maga est basé sur des mouvements simples et efficaces, parfait pour tous les niveaux."
            duration="1 heure"
            schedule="Plusieurs fois par semaine"
            activityUrl="krav-maga"
          >
            <Image src={kravIcon} alt="Krav Maga" width={100} height={100} />
          </ActivityCard>
          <ActivityCard
            name="MMA (Mixed Martial Arts)"
            level="Tout niveau"
            bgColor="bg-green-100"
            description="Combinez différentes disciplines comme la boxe, la lutte et le jiu-jitsu pour un entraînement complet. Parfait pour les pratiquants souhaitant améliorer leurs compétences globales en combat."
            duration="1 heure 30"
            schedule="Plusieurs fois par semaine"
            activityUrl="mma"
          >
            <Image src={mmaIcon} alt="MMA" width={100} height={100} />
          </ActivityCard>
          <ActivityCard
            name="Tolpar (Escrime lame courte)"
            level="Tous niveaux"
            bgColor="bg-purple-100"
            description="Maîtrisez l'art de l'escrime à lame courte, une discipline axée sur la précision, l'agilité et la technique. Idéal pour développer la concentration et les réflexes dans des situations de combat rapproché."
            duration="1 heure"
            schedule="Hebdomadaire"
            activityUrl="tolpar"
          >
            <Image src={tolparIcon} alt="Tolpar" width={100} height={100} />
          </ActivityCard>
          <ActivityCard
            name="Luta Livre"
            level="Tous niveaux"
            bgColor="bg-red-100"
            description="Découvrez l'art du grappling brésilien avec la Luta Livre, une discipline axée sur la lutte au sol et le contrôle du corps. Adapté à tous, ce cours améliore la force, la technique et la résilience mentale."
            duration="1 heure 30"
            schedule="Deux fois par semaine"
            activityUrl="lutalivre"
          >
            <Image src={lutaIcon} alt="Luta Livre" width={100} height={100} />
          </ActivityCard>
          <ActivityCard
            name="Cross Training / Prépa Physique"
            level="Tous niveaux"
            bgColor="bg-yellow-100"
            description="Améliorez votre condition physique avec des exercices fonctionnels, combinant cardio et renforcement musculaire. Idéal pour développer l'endurance, la force et l'agilité."
            duration="1 heure"
            schedule="Presque quotidien"
            activityUrl="cross-training"
          >
            <Image
              src={crossTrainingIcon}
              alt="Cross Training"
              width={100}
              height={100}
            />
          </ActivityCard>
        </div>
      </div>
    </div>
    <div>
      <AboutSection client:idle>
        <Image
          src={aboutImage}
          alt="About Image"
          width={600}
          height={400}
          class="w-[38rem] max-w-none rounded-2xl bg-neutral-900 shadow-xl ring-1 ring-neutral-400/10"
        />
      </AboutSection>
    </div>
    <div class="bg-neutral-900 pt-28 pb-96">
      <div class="max-w-7xl mx-auto px-6 lg:px-8">
        <Heading level={3} white={true}> Nos coachs </Heading>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-4">
          <CoachCard
            name="Luc Hernandez"
            disciplines="Luta Livre, MMA"
            bio="Passionné d'arts martiaux depuis sa plus tendre enfance, Luc Hernandez a consacré sa vie à l'entraînement, au perfectionnement et à la transmission de ses connaissances. Devenu un pédagogue hors pair, il possède un talent unique pour faire aimer le combat au sol et le MMA, en instillant à ses élèves confiance, technique et discipline. Doté d'une grande patience et d'une pédagogie naturelle, il sait motiver et guider chaque pratiquant, quel que soit son niveau, vers une progression constante. Son CV sportif parle pour lui :"
            qualifications={[
              "Ceinture noire de Luta Livre",
              "1er Dan de Luta Livre",
              "Ceinture noire 2ème Dan Judo",
              "Gant noire de Kick Boxing",
              "BMF2 FFKMDA",
              "BPJEPS sport de combat",
              "BF2 MMA",
              "Mitaine noire CNMMA",
              "Médaillé tournoi jujitsu combat",
              "Brevet d'état Judo-jujitsu",
            ]}
          >
            <Image
              src={lucImage}
              alt="Photo de Luc Hernandez"
              width={592}
              height={336}
              class="object-cover rounded-t-2xl h-[21rem] w-full object-[10%_23%]"
            />
          </CoachCard>
          <CoachCard
            name="Nori Berramdane"
            disciplines="Boxe Pied Poing"
            bio="L'équipe de l'Académie Stéphanoise est heureuse de compter Nori parmi le staff enseignant ! Initié très tôt à la pratique martiale, il obtiendra une ceinture marron en full contact et plusieurs titres de champion de la Loire. Amoureux de sports de combat, c'est tout naturellement que Nori s'oriente vers le MMA et la Luta Livre où il obtient le grade de ceinture jaune. Les petit plus ? Nori est un enseignant efficace qui n'a pas oublié d'être drôle."
            qualifications={[
              "Ceinture marron de Full Contact",
              "Titulaire d'un BMF2 FFKMDA",
              "Pratiquant de Luta Livre et de judo",
              "Gant noir de Kick-Boxing",
              "Ceinture marron de Full Contact",
              "Titulaire d'un BMF2 FFKMDA",
              "Pratiquant de Luta Livre et de judo",
              "Gant noir de Kick-Boxing",
            ]}
          >
            <Image
              src={noriImage}
              alt="Photo de Nori Berramdane"
              width={592}
              height={336}
              class="object-cover rounded-t-2xl h-[21rem] w-full object-[10%_23%]"
            />
          </CoachCard>
        </div>
      </div>
    </div>
    <div class="max-w-7xl mx-auto pb-28 px-6 lg:px-8 -mt-52">
      <CallToActionSection client:visible />
    </div>
    <div class="bg-white py-12">
      <div class="max-w-7xl mx-auto px-6 lg:px-8">
        <Heading level={3}> Notre instagram </Heading>
        <InstagramFeed client:only="react" />
      </div>
    </div>
    <div class="-mt-64">
      <Footer client:visible paddingTop="pt-72" paddingTopXl="xl:pt-96">
        <Image
          src={logoImage}
          alt="Logo de l'Académie Stéphanoise"
          width={100}
          height={100}
        />
      </Footer>
    </div>
  </div>
</Layout>
